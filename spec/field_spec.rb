require 'field'


# => player 1 board

#      ["---YOUR BATTLEFIELD---","---","-OPPONENT BATTLEFIELD-"],
#      ["  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J","---","  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J",],
#      [" 1", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 1", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 2", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 2", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 3", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 3", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 4", "~", "X", "~", "~", "~", "X", "X", "X", "X", "X","---", " 4", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~","---", " 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 6", "~", "~", "~", "X", "X", "X", "~", "~", "~", "~","---", " 6", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 7", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~","---", " 7", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 8", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", " 8", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 9", "~", "X", "X", "~", "~", "~", "~", "~", "X", "~","---", " 9", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      ["10", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", "10", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"]
#        ]

# => player 2 board

#      ["---YOUR BATTLEFIELD---","---","-OPPONENT BATTLEFIELD-"],
#      ["  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J","---","  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J",],
#      [" 1", "X", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 1", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 2", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", " 2", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 3", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", " 3", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 4", "~", "~", "X", "X", "X", "X", "~", "~", "X", "~","---", " 4", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~","---", " 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 6", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 6", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 7", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 7", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 8", "~", "X", "~", "~", "~", "X", "X", "X", "~", "~","---", " 8", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      [" 9", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 9", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
#      ["10", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", "10", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"]

describe Field do


 before(:each) do
   @start = new_game
   @start.p1.user_class.place_ac("4F", "horizontal")
   @start.p1.user_class.place_battleship("1B", "vertical")
   @start.p1.user_class.place_sub("6D", "horizontal")
   @start.p1.user_class.place_destroyer("8I", "vertical")
   @start.p1.user_class.place_patrol("9B", "horizontal")
   @start.p2.user_class.place_ac("6B", "vertical")
   @start.p2.user_class.place_battleship("4C", "horizontal")
   @start.p2.user_class.place_sub("2I", "vertical")
   @start.p2.user_class.place_destroyer("8F", "horizontal")
   @start.p2.user_class.place_patrol("1A", "horizontal")
 end

 it "hits an opposing players ships and marks change on both players boards" do
   @start.player_one_hit("1A")
   expect(@start.p1.user_class.show_board).to eq(
   [
      ["---YOUR BATTLEFIELD---","---","-OPPONENT BATTLEFIELD-"],
      ["  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J","---","  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J",],
      [" 1", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 1", "@", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 2", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 2", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 3", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 3", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 4", "~", "X", "~", "~", "~", "X", "X", "X", "X", "X","---", " 4", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~","---", " 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 6", "~", "~", "~", "X", "X", "X", "~", "~", "~", "~","---", " 6", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 7", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~","---", " 7", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 8", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", " 8", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      [" 9", "~", "X", "X", "~", "~", "~", "~", "~", "X", "~","---", " 9", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
      ["10", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", "10", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"]
        ]
   )
 end

 it "hits an opposing players ships and marks change on both players boards 2" do
   @start.player_one_hit("1A")
   expect(@start.p2.user_class.show_board).to eq([
    ["---YOUR BATTLEFIELD---","---","-OPPONENT BATTLEFIELD-"],
    ["  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J","---","  ", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J",],
    [" 1", "@", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 1", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 2", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", " 2", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 3", "~", "~", "~", "~", "~", "~", "~", "~", "X", "~","---", " 3", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 4", "~", "~", "X", "X", "X", "X", "~", "~", "X", "~","---", " 4", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~","---", " 5", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 6", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 6", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 7", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 7", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 8", "~", "X", "~", "~", "~", "X", "X", "X", "~", "~","---", " 8", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    [" 9", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", " 9", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"],
    ["10", "~", "X", "~", "~", "~", "~", "~", "~", "~", "~","---", "10", "~", "~", "~", "~", "~", "~", "~", "~", "~", "~"]
]
   )
 end

 it "does the above for both players" do
   @start.player_two_hit("1A")
   expect(@start.p1.user_class.use_board[2][1]).to eql("o")
 end

 it "does the above for both players" do
   @start.player_two_hit("1A")
   expect(@start.p2.user_class.use_board[2][13]).to eql("o")
 end






 end
